<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>foo.env | foo | CARFAX</title>
    <link rel="stylesheet" href="../css/wharf.min.css">
    <link rel="stylesheet" href="../css/wharf.src.min.css">
    <script src="../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
    <h1>foo.env - Tests</h1>
    
    <article>
        
        <pre><code class="javascript">describe('env', function() {
    describe('isBrowser()', function() {
        it('should return false', function() {
            expect( foo.env.isBrowser() ).toBe(true);
        });
    });

    describe('determine()', function() {
        afterEach(function() {
            foo.window.domain = 'localhost';
        });

        describe('local', function() {
            afterEach(function() {
                foo.env.determine();
                expect( foo.env.ENV ).toEqual(foo.env.LOCAL);
            });

            it('localhost', function() {
                foo.window.domain = 'localhost';
            });

            it('my.carfax.com', function() {
                foo.window.domain = 'my.carfax.com';
            });

            it('mysecure.carfax.com', function() {
                foo.window.domain = 'mysecure.carfax.com';
            });

            it('mysecured.carfax.com', function() {
                foo.window.domain = 'mysecured.carfax.com';
            });
        });

        it('should return dev', function() {
            foo.window.domain = 'dev.carfax.com';
            foo.env.determine();

            expect( foo.env.ENV ).toEqual(foo.env.DEV);
        });

        it('should return alpha', function() {
            foo.window.domain = 'alpha.carfax.com';
            foo.env.determine();

            expect( foo.env.ENV ).toEqual(foo.env.ALPHA);
        });

        it('should return beta', function() {
            foo.window.domain = 'beta.carfax.com';
            foo.env.determine();

            expect( foo.env.ENV ).toEqual(foo.env.BETA);
        });

        it('should return prod', function() {
            foo.window.domain = 'carfax.com';
            foo.env.determine();

            expect( foo.env.ENV ).toEqual(foo.env.PROD);
        });
    });
});</code></pre>
        
    </article>
</body>
</html>