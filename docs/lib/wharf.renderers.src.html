<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>wharf.renderers.src | wharf | CARFAX</title>
    <link rel="stylesheet" href="../css/wharf.min.css">
    <link rel="stylesheet" href="../css/wharf.src.min.css">
    <script src="../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
    <h1>wharf.renderers.src - Source</h1>
    
    <article>
        
        <pre><code class="javascript">var fs = require('fs'),
    path = require('path'),
    walk = require('../utils/walk'),
    format = require('mb-strings');

module.exports = function(paths, options) {
    paths.src = options.src || 'src';

    var template = fs.readFileSync( path.join(paths.lib, 'templates/template_src.html'), 'utf8');
    var inputPath = path.join(paths.input, paths.src),
        srcFiles = walk(inputPath);

    srcFiles.forEach(function(srcFilePath, i) {
        var content = fs.readFileSync(srcFilePath, 'utf8'),
            filename = options.base + srcFilePath.substring(inputPath.length).replace(/\/+|\\+/g, '.').replace('.js', '');

        content = format(template, {
            content: content,
            title: filename,
            project_title: options.title,
            project_author: options.author
        });

        var outputPath = path.join(paths.output, paths.src);
        if(!fs.existsSync(outputPath)) {
            fs.mkdirSync(outputPath);
        }

        fs.writeFileSync( path.join(outputPath, filename+'.html'), content, 'utf8');
    });
};</code></pre>
        
    </article>
</body>
</html>